{"ast":null,"code":"import{signInWithGoogle}from'../firebase';import{useNavigate}from'react-router-dom';import{useEffect}from'react';import logo from'../assets/logo.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();useEffect(()=>{const token=sessionStorage.getItem('token');if(token)navigate('/dashboard');},[navigate]);const handleGoogleLogin=async()=>{const user=await signInWithGoogle();if(user){const email=user.email||\"\";// Ensure we have the email\nconst allowedDomain=\"stinte.co\";if(email.endsWith(\"@\".concat(allowedDomain))){const token=await user.getIdToken();sessionStorage.setItem(\"token\",token);navigate('/dashboard');}else{alert(\"Access restricted to STINTE accounts only.\");}}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#ffffff] px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center space-y-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Stinte Logo\",className:\"50 mx-auto mb-10\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold\",children:\"Sign in to STINTE Technician Portal\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleLogin,className:\"mt- w-full max-w-sm mx-auto flex items-center justify-center border border-gray-300 rounded-md px-4 py-2 text-sm font-medium hover:bg-gray-100 bg-white\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://www.svgrepo.com/show/475656/google-color.svg\",alt:\"Google\",className:\"w-10 h-10 mr-2\"}),\"Continue with Google\"]})]})});}export default Login;","map":{"version":3,"names":["signInWithGoogle","useNavigate","useEffect","logo","jsx","_jsx","jsxs","_jsxs","Login","navigate","token","sessionStorage","getItem","handleGoogleLogin","user","email","allowedDomain","endsWith","concat","getIdToken","setItem","alert","className","children","src","alt","onClick"],"sources":["C:/Users/Phi Nguyen/Portal/technician-portal/frontend/src/pages/Login.js"],"sourcesContent":["import { signInWithGoogle } from '../firebase';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport logo from '../assets/logo.png'; \r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem('token');\r\n    if (token) navigate('/dashboard');\r\n  }, [navigate]);\r\n\r\n  const handleGoogleLogin = async () => {\r\n  const user = await signInWithGoogle();\r\n\r\n  if (user) {\r\n    const email = user.email || \"\"; // Ensure we have the email\r\n    const allowedDomain = \"stinte.co\"; \r\n\r\n    if (email.endsWith(`@${allowedDomain}`)) \r\n      {\r\n      const token = await user.getIdToken();\r\n      sessionStorage.setItem(\"token\", token);  \r\n      navigate('/dashboard');\r\n      } else \r\n      {\r\n      alert(\"Access restricted to STINTE accounts only.\");      \r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n  <div className=\"min-h-screen flex items-center justify-center bg-[#ffffff] px-4\">\r\n  <div className=\"text-center space-y-2\">\r\n    <img\r\n      src={logo}\r\n      alt=\"Stinte Logo\"\r\n      className=\"50 mx-auto mb-10\"\r\n    />\r\n    <h1 className=\"text-2xl font-semibold\">Sign in to STINTE Technician Portal</h1>\r\n    <button\r\n      onClick={handleGoogleLogin}\r\n      className=\"mt- w-full max-w-sm mx-auto flex items-center justify-center border border-gray-300 rounded-md px-4 py-2 text-sm font-medium hover:bg-gray-100 bg-white\"\r\n    >\r\n      <img\r\n        src=\"https://www.svgrepo.com/show/475656/google-color.svg\"\r\n        alt=\"Google\"\r\n        className=\"w-10 h-10 mr-2\"\r\n      />\r\n      Continue with Google\r\n    </button>\r\n  </div>\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,OAASA,gBAAgB,KAAQ,aAAa,CAC9C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAQ,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC7C,GAAIF,KAAK,CAAED,QAAQ,CAAC,YAAY,CAAC,CACnC,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAI,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACtC,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAd,gBAAgB,CAAC,CAAC,CAErC,GAAIc,IAAI,CAAE,CACR,KAAM,CAAAC,KAAK,CAAGD,IAAI,CAACC,KAAK,EAAI,EAAE,CAAE;AAChC,KAAM,CAAAC,aAAa,CAAG,WAAW,CAEjC,GAAID,KAAK,CAACE,QAAQ,KAAAC,MAAA,CAAKF,aAAa,CAAE,CAAC,CACrC,CACA,KAAM,CAAAN,KAAK,CAAG,KAAM,CAAAI,IAAI,CAACK,UAAU,CAAC,CAAC,CACrCR,cAAc,CAACS,OAAO,CAAC,OAAO,CAAEV,KAAK,CAAC,CACtCD,QAAQ,CAAC,YAAY,CAAC,CACtB,CAAC,IACD,CACAY,KAAK,CAAC,4CAA4C,CAAC,CACnD,CACF,CACF,CAAC,CAED,mBACAhB,IAAA,QAAKiB,SAAS,CAAC,iEAAiE,CAAAC,QAAA,cAChFhB,KAAA,QAAKe,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpClB,IAAA,QACEmB,GAAG,CAAErB,IAAK,CACVsB,GAAG,CAAC,aAAa,CACjBH,SAAS,CAAC,kBAAkB,CAC7B,CAAC,cACFjB,IAAA,OAAIiB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,qCAAmC,CAAI,CAAC,cAC/EhB,KAAA,WACEmB,OAAO,CAAEb,iBAAkB,CAC3BS,SAAS,CAAC,yJAAyJ,CAAAC,QAAA,eAEnKlB,IAAA,QACEmB,GAAG,CAAC,sDAAsD,CAC1DC,GAAG,CAAC,QAAQ,CACZH,SAAS,CAAC,gBAAgB,CAC3B,CAAC,uBAEJ,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEN,CAEA,cAAe,CAAAd,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}