{"ast":null,"code":"// src/pages/Dashboard.jsx\nimport{useEffect,useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import logo from\"../assets/logo.png\";import{ChevronDown,ChevronUp,X}from\"lucide-react\";// Added X icon\nimport{getAuth,signOut as firebaseSignOut,signInWithPopup,GoogleAuthProvider,onAuthStateChanged}from\"firebase/auth\";// react-big-calendar + date-fns localizer\nimport{Calendar as BigCalendar,dateFnsLocalizer}from\"react-big-calendar\";import format from\"date-fns/format\";import parse from\"date-fns/parse\";import startOfWeek from\"date-fns/startOfWeek\";import getDay from\"date-fns/getDay\";import\"react-big-calendar/lib/css/react-big-calendar.css\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const locales={\"en-US\":require(\"date-fns/locale/en-US\")};const localizer=dateFnsLocalizer({format,parse,startOfWeek:()=>startOfWeek(new Date(),{weekStartsOn:0}),getDay,locales});function Dashboard(){const[news,setNews]=useState([]);const[profileOpen,setProfileOpen]=useState(false);const[costcoOpen,setCostcoOpen]=useState(false);const[stinteOpen,setStinteOpen]=useState(false);const[insuranceOpen,setInsuranceOpen]=useState(false);const[googleToken,setGoogleToken]=useState(null);const[calendarEvents,setCalendarEvents]=useState([]);const[loadingCalendar,setLoadingCalendar]=useState(false);const[selectedEvent,setSelectedEvent]=useState(null);const[view,setView]=useState(\"month\");const[date,setDate]=useState(new Date());const navigate=useNavigate();const auth=getAuth();const[user,setUser]=useState(null);useEffect(()=>{axios.get(\"http://localhost:3000/Dashboard\").then(res=>setNews(res.data)).catch(err=>console.error(err));},[]);useEffect(()=>{const unsub=onAuthStateChanged(auth,u=>{setUser(u||null);});return()=>unsub();},[auth]);const handleSignOut=async()=>{try{await firebaseSignOut(auth);sessionStorage.clear();localStorage.clear();setGoogleToken(null);setCalendarEvents([]);navigate(\"/\");}catch(error){console.error(\"Error signing out:\",error);}};const connectGoogleCalendar=async()=>{try{const provider=new GoogleAuthProvider();provider.addScope(\"https://www.googleapis.com/auth/calendar.readonly\");const result=await signInWithPopup(auth,provider);const credential=GoogleAuthProvider.credentialFromResult(result);const accessToken=credential===null||credential===void 0?void 0:credential.accessToken;if(accessToken){setGoogleToken(accessToken);fetchCalendarEvents(accessToken);}else{console.warn(\"No access token returned from Google sign-in.\");}}catch(err){console.error(\"Google sign-in failed:\",err);}};const fetchCalendarEvents=useCallback(async accessToken=>{if(!accessToken)return;setLoadingCalendar(true);try{const timeMin=new Date().toISOString();const timeMax=new Date();timeMax.setDate(timeMax.getDate()+60);const timeMaxISO=timeMax.toISOString();const url=\"https://www.googleapis.com/calendar/v3/calendars/primary/events?timeMin=\".concat(encodeURIComponent(timeMin),\"&timeMax=\").concat(encodeURIComponent(timeMaxISO),\"&singleEvents=true&orderBy=startTime&maxResults=2500\");const res=await fetch(url,{headers:{Authorization:\"Bearer \".concat(accessToken),Accept:\"application/json\"}});if(res.status===401||res.status===403){console.warn(\"Google token invalid or expired. Please reconnect.\");setGoogleToken(null);setCalendarEvents([]);setLoadingCalendar(false);return;}const data=await res.json();if(!data.items){setCalendarEvents([]);setLoadingCalendar(false);return;}const events=data.items.map(ev=>{var _ev$start$dateTime,_ev$start,_ev$start2,_ev$end$dateTime,_ev$end,_ev$end2;const startRaw=(_ev$start$dateTime=(_ev$start=ev.start)===null||_ev$start===void 0?void 0:_ev$start.dateTime)!==null&&_ev$start$dateTime!==void 0?_ev$start$dateTime:(_ev$start2=ev.start)===null||_ev$start2===void 0?void 0:_ev$start2.date;const endRaw=(_ev$end$dateTime=(_ev$end=ev.end)===null||_ev$end===void 0?void 0:_ev$end.dateTime)!==null&&_ev$end$dateTime!==void 0?_ev$end$dateTime:(_ev$end2=ev.end)===null||_ev$end2===void 0?void 0:_ev$end2.date;const start=startRaw?new Date(startRaw):new Date();const end=endRaw?new Date(endRaw):start;return{id:ev.id,title:ev.summary||\"(no title)\",start,end,description:ev.description||\"\",location:ev.location||\"\",raw:ev};});setCalendarEvents(events);}catch(err){console.error(\"Error fetching calendar events:\",err);}finally{setLoadingCalendar(false);}},[setCalendarEvents]);const refreshCalendar=async()=>{if(!googleToken){await connectGoogleCalendar();return;}await fetchCalendarEvents(googleToken);};const CalendarControls=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:!googleToken?/*#__PURE__*/_jsx(\"button\",{onClick:connectGoogleCalendar,className:\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Connect Google Calendar\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:refreshCalendar,className:\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700\",children:\"Refresh Calendar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setGoogleToken(null);setCalendarEvents([]);},className:\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\",children:\"Disconnect\"})]})});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 bg-white shadow-md flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center p-4 border-b cursor-pointer\",onClick:()=>navigate(\"/dashboard\"),children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"h-12\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex-1 p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCostcoOpen(!costcoOpen),className:\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",children:[\"COSTCO\",costcoOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16})]}),costcoOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"pl-6 space-y-1 mt-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\"_blank\"),children:\"Costco Sites\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\"_blank\"),children:\"Costco Tech Notes\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",onClick:()=>window.open(\"https://mail.google.com\",\"_blank\"),children:\"BUILDOPS\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",onClick:()=>window.open(\"https://mail.google.com\",\"_blank\"),children:\"GOOGLE EMAIL\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",onClick:()=>window.open(\"https://chat.google.com\",\"_blank\"),children:\"GOOGLE CHAT\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setProfileOpen(!profileOpen),className:\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",children:[\"PROFILE\",profileOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16})]}),profileOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"pl-6 space-y-1 mt-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex justify-between items-center px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>setInsuranceOpen(!insuranceOpen),children:[\"Insurance\",insuranceOpen?/*#__PURE__*/_jsx(ChevronUp,{size:14}):/*#__PURE__*/_jsx(ChevronDown,{size:14})]}),insuranceOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"pl-4 mt-1 space-y-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\",onClick:()=>navigate(\"/insurance/dental\"),children:\"Dental Insurance\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\",onClick:()=>navigate(\"/insurance/health\"),children:\"Health Insurance\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\",onClick:()=>navigate(\"/insurance/vision\"),children:\"Vision Insurance\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\"_blank\"),children:\"Pay Roll\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>navigate(\"/performance\"),children:\"Performance Reviews / Skill Assessments\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>navigate(\"/timesheet\"),children:\"Time Sheet\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>navigate(\"/training\"),children:\"Training Course\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setStinteOpen(!stinteOpen),className:\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\",children:[\"STINTE\",stinteOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16})]}),stinteOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"pl-6 space-y-1 mt-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>navigate(\"/contact-info\"),children:\"Contact Information\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"/employee-handbook.pdf\",\"_blank\"),children:\"Employee Handbook\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\"_blank\"),children:\"HR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\",onClick:()=>window.open(\"https://docs.google.com/forms/d/e/1FAIpQLSe8a8mo66k8k-ZhcUShwpB-_25onm1XclrsyqkrAUtFbSebRQ/viewform\",\"_blank\"),children:\"Time Off Requests\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\",children:\"Sign Out\"})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold\",children:\"Company News Board\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 items-center\",children:/*#__PURE__*/_jsx(CalendarControls,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mb-6\",children:news.map(item=>/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[\"By \",item.author,\" on \",item.date]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:item.content})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"My Google Calendar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:user?user.email:\"Not signed in\"})]}),loadingCalendar?/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center text-gray-600\",children:\"Loading events\\u2026\"}):googleToken&&calendarEvents.length>0?/*#__PURE__*/_jsx(BigCalendar,{localizer:localizer,events:calendarEvents,startAccessor:\"start\",endAccessor:\"end\",style:{height:600},onSelectEvent:event=>setSelectedEvent(event),view:view,onView:newView=>setView(newView),date:date,onNavigate:newDate=>setDate(newDate),views:['month','week','day','agenda'],popup:true}):googleToken&&calendarEvents.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center text-gray-600\",children:\"No upcoming events in the next 60 days.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-gray-700\",children:\"Connect your Google account to view your personal calendar events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:connectGoogleCalendar,className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Connect Google Calendar\"})})]})]}),selectedEvent&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md transform transition-all scale-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center border-b pb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:selectedEvent.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEvent(null),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-2 text-gray-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start:\"}),\" \",selectedEvent.start.toLocaleString(\"en-US\",{month:\"short\",day:\"numeric\",year:\"numeric\",hour:\"numeric\",minute:\"2-digit\",hour12:true})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"End:\"}),\" \",selectedEvent.end.toLocaleString(\"en-US\",{month:\"short\",day:\"numeric\",year:\"numeric\",hour:\"numeric\",minute:\"2-digit\",hour12:true})]}),selectedEvent.location&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",selectedEvent.location]}),selectedEvent.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 whitespace-pre-line\",children:selectedEvent.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEvent(null),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition\",children:\"Close\"})})]})})]})]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useState","useCallback","useNavigate","axios","logo","ChevronDown","ChevronUp","X","getAuth","signOut","firebaseSignOut","signInWithPopup","GoogleAuthProvider","onAuthStateChanged","Calendar","BigCalendar","dateFnsLocalizer","format","parse","startOfWeek","getDay","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","locales","require","localizer","Date","weekStartsOn","Dashboard","news","setNews","profileOpen","setProfileOpen","costcoOpen","setCostcoOpen","stinteOpen","setStinteOpen","insuranceOpen","setInsuranceOpen","googleToken","setGoogleToken","calendarEvents","setCalendarEvents","loadingCalendar","setLoadingCalendar","selectedEvent","setSelectedEvent","view","setView","date","setDate","navigate","auth","user","setUser","get","then","res","data","catch","err","console","error","unsub","u","handleSignOut","sessionStorage","clear","localStorage","connectGoogleCalendar","provider","addScope","result","credential","credentialFromResult","accessToken","fetchCalendarEvents","warn","timeMin","toISOString","timeMax","getDate","timeMaxISO","url","concat","encodeURIComponent","fetch","headers","Authorization","Accept","status","json","items","events","map","ev","_ev$start$dateTime","_ev$start","_ev$start2","_ev$end$dateTime","_ev$end","_ev$end2","startRaw","start","dateTime","endRaw","end","id","title","summary","description","location","raw","refreshCalendar","CalendarControls","className","children","onClick","src","alt","size","window","open","item","author","content","email","length","startAccessor","endAccessor","style","height","onSelectEvent","event","onView","newView","onNavigate","newDate","views","popup","toLocaleString","month","day","year","hour","minute","hour12"],"sources":["C:/Users/Phi Nguyen/Portal/technician-portal/frontend/src/pages/Dashboard.js"],"sourcesContent":["// src/pages/Dashboard.jsx\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport logo from \"../assets/logo.png\";\r\nimport { ChevronDown, ChevronUp, X } from \"lucide-react\"; // Added X icon\r\nimport {\r\n  getAuth,\r\n  signOut as firebaseSignOut,\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  onAuthStateChanged,\r\n} from \"firebase/auth\";\r\n\r\n// react-big-calendar + date-fns localizer\r\nimport { Calendar as BigCalendar, dateFnsLocalizer } from \"react-big-calendar\";\r\nimport format from \"date-fns/format\";\r\nimport parse from \"date-fns/parse\";\r\nimport startOfWeek from \"date-fns/startOfWeek\";\r\nimport getDay from \"date-fns/getDay\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\n\r\nconst locales = {\r\n  \"en-US\": require(\"date-fns/locale/en-US\"),\r\n};\r\nconst localizer = dateFnsLocalizer({\r\n  format,\r\n  parse,\r\n  startOfWeek: () => startOfWeek(new Date(), { weekStartsOn: 0 }),\r\n  getDay,\r\n  locales,\r\n});\r\n\r\nfunction Dashboard() {\r\n  const [news, setNews] = useState([]);\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [costcoOpen, setCostcoOpen] = useState(false);\r\n  const [stinteOpen, setStinteOpen] = useState(false);\r\n  const [insuranceOpen, setInsuranceOpen] = useState(false);\r\n  const [googleToken, setGoogleToken] = useState(null);\r\n  const [calendarEvents, setCalendarEvents] = useState([]);\r\n  const [loadingCalendar, setLoadingCalendar] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState(null); \r\n  const [view, setView] = useState(\"month\");      \r\n  const [date, setDate] = useState(new Date());   \r\n\r\n  const navigate = useNavigate();\r\n  const auth = getAuth();\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:3000/Dashboard\")\r\n      .then((res) => setNews(res.data))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => {\r\n      setUser(u || null);\r\n    });\r\n    return () => unsub();\r\n  }, [auth]);\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await firebaseSignOut(auth);\r\n      sessionStorage.clear();\r\n      localStorage.clear();\r\n      setGoogleToken(null);\r\n      setCalendarEvents([]);\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Error signing out:\", error);\r\n    }\r\n  };\r\n\r\n  const connectGoogleCalendar = async () => {\r\n    try {\r\n      const provider = new GoogleAuthProvider();\r\n      provider.addScope(\"https://www.googleapis.com/auth/calendar.readonly\");\r\n      const result = await signInWithPopup(auth, provider);\r\n      const credential = GoogleAuthProvider.credentialFromResult(result);\r\n      const accessToken = credential?.accessToken;\r\n      if (accessToken) {\r\n        setGoogleToken(accessToken);\r\n        fetchCalendarEvents(accessToken);\r\n      } else {\r\n        console.warn(\"No access token returned from Google sign-in.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Google sign-in failed:\", err);\r\n    }\r\n  };\r\n\r\n  const fetchCalendarEvents = useCallback(\r\n    async (accessToken) => {\r\n      if (!accessToken) return;\r\n      setLoadingCalendar(true);\r\n\r\n      try {\r\n        const timeMin = new Date().toISOString();\r\n        const timeMax = new Date();\r\n        timeMax.setDate(timeMax.getDate() + 60);\r\n        const timeMaxISO = timeMax.toISOString();\r\n\r\n        const url = `https://www.googleapis.com/calendar/v3/calendars/primary/events?timeMin=${encodeURIComponent(\r\n          timeMin\r\n        )}&timeMax=${encodeURIComponent(timeMaxISO)}&singleEvents=true&orderBy=startTime&maxResults=2500`;\r\n\r\n        const res = await fetch(url, {\r\n          headers: {\r\n            Authorization: `Bearer ${accessToken}`,\r\n            Accept: \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (res.status === 401 || res.status === 403) {\r\n          console.warn(\"Google token invalid or expired. Please reconnect.\");\r\n          setGoogleToken(null);\r\n          setCalendarEvents([]);\r\n          setLoadingCalendar(false);\r\n          return;\r\n        }\r\n\r\n        const data = await res.json();\r\n        if (!data.items) {\r\n          setCalendarEvents([]);\r\n          setLoadingCalendar(false);\r\n          return;\r\n        }\r\n\r\n        const events = data.items.map((ev) => {\r\n          const startRaw = ev.start?.dateTime ?? ev.start?.date;\r\n          const endRaw = ev.end?.dateTime ?? ev.end?.date;\r\n          const start = startRaw ? new Date(startRaw) : new Date();\r\n          const end = endRaw ? new Date(endRaw) : start;\r\n\r\n          return {\r\n            id: ev.id,\r\n            title: ev.summary || \"(no title)\",\r\n            start,\r\n            end,\r\n            description: ev.description || \"\",\r\n            location: ev.location || \"\",\r\n            raw: ev,\r\n          };\r\n        });\r\n\r\n        setCalendarEvents(events);\r\n      } catch (err) {\r\n        console.error(\"Error fetching calendar events:\", err);\r\n      } finally {\r\n        setLoadingCalendar(false);\r\n      }\r\n    },\r\n    [setCalendarEvents]\r\n  );\r\n\r\n  const refreshCalendar = async () => {\r\n    if (!googleToken) {\r\n      await connectGoogleCalendar();\r\n      return;\r\n    }\r\n    await fetchCalendarEvents(googleToken);\r\n  };\r\n\r\n  const CalendarControls = () => (\r\n    <div className=\"flex items-center gap-3\">\r\n      {!googleToken ? (\r\n        <button\r\n          onClick={connectGoogleCalendar}\r\n          className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n        >\r\n          Connect Google Calendar\r\n        </button>\r\n      ) : (\r\n        <>\r\n          <button\r\n            onClick={refreshCalendar}\r\n            className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700\"\r\n          >\r\n            Refresh Calendar\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setGoogleToken(null);\r\n              setCalendarEvents([]);\r\n            }}\r\n            className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\r\n          >\r\n            Disconnect\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-100\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-white shadow-md flex flex-col\">\r\n        <div\r\n          className=\"flex items-center justify-center p-4 border-b cursor-pointer\"\r\n          onClick={() => navigate(\"/dashboard\")}\r\n        >\r\n          <img src={logo} alt=\"Logo\" className=\"h-12\" />\r\n          \r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-2\">\r\n          <div>\r\n            <button\r\n              onClick={() => setCostcoOpen(!costcoOpen)}\r\n              className=\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            >\r\n              COSTCO\r\n              {costcoOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n            </button>\r\n            {costcoOpen && (\r\n              <div className=\"pl-6 space-y-1 mt-1\">\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() =>\r\n                    window.open(\r\n                      \"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\r\n                      \"_blank\"\r\n                    )\r\n                  }\r\n                >\r\n                  Costco Sites\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() =>\r\n                    window.open(\r\n                      \"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\r\n                      \"_blank\"\r\n                    )\r\n                  }\r\n                >\r\n                  Costco Tech Notes\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button\r\n            className=\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            onClick={() => window.open(\"https://mail.google.com\", \"_blank\")}\r\n          >\r\n            BUILDOPS\r\n          </button>\r\n          <button\r\n            className=\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            onClick={() => window.open(\"https://mail.google.com\", \"_blank\")}\r\n          >\r\n            GOOGLE EMAIL\r\n          </button>\r\n          <button\r\n            className=\"w-full text-left px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            onClick={() => window.open(\"https://chat.google.com\", \"_blank\")}\r\n          >\r\n            GOOGLE CHAT\r\n          </button>\r\n          <div>\r\n            <button\r\n              onClick={() => setProfileOpen(!profileOpen)}\r\n              className=\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            >\r\n              PROFILE\r\n              {profileOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n            </button>\r\n            {profileOpen && (\r\n              <div className=\"pl-6 space-y-1 mt-1\">\r\n                <div>\r\n                  <button\r\n                    className=\"w-full flex justify-between items-center px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                    onClick={() => setInsuranceOpen(!insuranceOpen)}\r\n                  >\r\n                    Insurance\r\n                    {insuranceOpen ? (\r\n                      <ChevronUp size={14} />\r\n                    ) : (\r\n                      <ChevronDown size={14} />\r\n                    )}\r\n                  </button>\r\n                  {insuranceOpen && (\r\n                    <div className=\"pl-4 mt-1 space-y-1\">\r\n                      <button\r\n                        className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\"\r\n                        onClick={() => navigate(\"/insurance/dental\")}\r\n                      >\r\n                        Dental Insurance\r\n                      </button>\r\n                      <button\r\n                        className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\"\r\n                        onClick={() => navigate(\"/insurance/health\")}\r\n                      >\r\n                        Health Insurance\r\n                      </button>\r\n                      <button\r\n                        className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100\"\r\n                        onClick={() => navigate(\"/insurance/vision\")}\r\n                      >\r\n                        Vision Insurance\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() =>\r\n                    window.open(\r\n                      \"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\r\n                      \"_blank\"\r\n                    )\r\n                  }\r\n                >\r\n                  Pay Roll\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() => navigate(\"/performance\")}\r\n                >\r\n                  Performance Reviews / Skill Assessments\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() => navigate(\"/timesheet\")}\r\n                >\r\n                  Time Sheet\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() => navigate(\"/training\")}\r\n                >\r\n                  Training Course\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        <div>\r\n            <button\r\n              onClick={() => setStinteOpen(!stinteOpen)}\r\n              className=\"w-full flex justify-between items-center px-4 py-2 rounded hover:bg-gray-200 font-bold text-xl\"\r\n            >\r\n              STINTE\r\n              {stinteOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n            </button>\r\n            {stinteOpen && (\r\n              <div className=\"pl-6 space-y-1 mt-1\">\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() => navigate(\"/contact-info\")}\r\n                >\r\n                  Contact Information\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() => window.open(\"/employee-handbook.pdf\", \"_blank\")}\r\n                >\r\n                  Employee Handbook\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() =>\r\n                    window.open(\r\n                      \"https://identity.myisolved.com/Account/Login?ReturnUrl=%2F\",\r\n                      \"_blank\"\r\n                    )\r\n                  }\r\n                >\r\n                  HR\r\n                </button>\r\n                <button\r\n                  className=\"block w-full text-left px-2 py-1 rounded hover:bg-gray-100 font-medium text-lg\"\r\n                  onClick={() =>\r\n                    window.open(\r\n                      \"https://docs.google.com/forms/d/e/1FAIpQLSe8a8mo66k8k-ZhcUShwpB-_25onm1XclrsyqkrAUtFbSebRQ/viewform\",\r\n                      \"_blank\"\r\n                    )\r\n                  }\r\n                >\r\n                  Time Off Requests\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </nav>\r\n\r\n        <div className=\"p-4 border-t\">\r\n          <button\r\n            onClick={handleSignOut}\r\n            className=\"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\"\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 p-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-2xl font-semibold\">Company News Board</h2>\r\n          <div className=\"flex gap-2 items-center\">\r\n            <CalendarControls />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-4 mb-6\">\r\n          {news.map((item) => (\r\n            <article key={item.id} className=\"bg-white p-4 rounded shadow\">\r\n              <h3 className=\"text-xl font-bold\">{item.title}</h3>\r\n              <p className=\"text-gray-600 text-sm\">\r\n                By {item.author} on {item.date}\r\n              </p>\r\n              <p className=\"mt-2\">{item.content}</p>\r\n            </article>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Calendar area */}\r\n        <div className=\"bg-white p-4 rounded shadow\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-bold\">My Google Calendar</h3>\r\n            <div className=\"text-sm text-gray-600\">\r\n              {user ? user.email : \"Not signed in\"}\r\n            </div>\r\n          </div>\r\n\r\n          {loadingCalendar ? (\r\n            <div className=\"p-6 text-center text-gray-600\">Loading eventsâ€¦</div>\r\n          ) : googleToken && calendarEvents.length > 0 ? (\r\n            <BigCalendar\r\n              localizer={localizer}\r\n              events={calendarEvents}\r\n              startAccessor=\"start\"\r\n              endAccessor=\"end\"\r\n              style={{ height: 600 }}\r\n              onSelectEvent={(event) => setSelectedEvent(event)}\r\n              view={view}\r\n              onView={(newView) => setView(newView)}\r\n              date={date}\r\n              onNavigate={(newDate) => setDate(newDate)}\r\n              views={['month', 'week', 'day', 'agenda']}\r\n              popup\r\n            />\r\n          ) : googleToken && calendarEvents.length === 0 ? (\r\n            <div className=\"p-6 text-center text-gray-600\">\r\n              No upcoming events in the next 60 days.\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-6 text-center\">\r\n              <p className=\"mb-4 text-gray-700\">\r\n                Connect your Google account to view your personal calendar events\r\n              </p>\r\n              <div className=\"flex justify-center\">\r\n                <button\r\n                  onClick={connectGoogleCalendar}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n                >\r\n                  Connect Google Calendar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sleek Event Modal */}\r\n        {selectedEvent && (\r\n          <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm z-50\">\r\n            <div className=\"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md transform transition-all scale-100\">\r\n              {/* Header */}\r\n              <div className=\"flex justify-between items-center border-b pb-3\">\r\n                <h2 className=\"text-xl font-semibold text-gray-800\">\r\n                  {selectedEvent.title}\r\n                </h2>\r\n                <button\r\n                  onClick={() => setSelectedEvent(null)}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Body */}\r\n              <div className=\"mt-4 space-y-2 text-gray-700\">\r\n                <p>\r\n                  <strong>Start:</strong>{\" \"}\r\n                  {selectedEvent.start.toLocaleString(\"en-US\", {\r\n                    month: \"short\",\r\n                    day: \"numeric\",\r\n                    year: \"numeric\",\r\n                    hour: \"numeric\",\r\n                    minute: \"2-digit\",\r\n                    hour12: true,\r\n                  })}\r\n                </p>\r\n                <p>\r\n                  <strong>End:</strong>{\" \"}\r\n                  {selectedEvent.end.toLocaleString(\"en-US\", {\r\n                    month: \"short\",\r\n                    day: \"numeric\",\r\n                    year: \"numeric\",\r\n                    hour: \"numeric\",\r\n                    minute: \"2-digit\",\r\n                    hour12: true,\r\n                  })}\r\n                </p>\r\n                {selectedEvent.location && (\r\n                  <p>\r\n                    <strong>Location:</strong> {selectedEvent.location}\r\n                  </p>\r\n                )}\r\n                {selectedEvent.description && (\r\n                  <p className=\"mt-2 whitespace-pre-line\">\r\n                    {selectedEvent.description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              <div className=\"mt-6 text-right\">\r\n                <button\r\n                  onClick={() => setSelectedEvent(null)}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}