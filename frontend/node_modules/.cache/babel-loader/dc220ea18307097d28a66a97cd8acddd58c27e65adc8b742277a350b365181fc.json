{"ast":null,"code":"import{initializeApp}from\"firebase/app\";import{getAuth,GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";const firebaseConfig={apiKey:\"AIzaSyCvSK-IUHXso5s6qgnQXZTr17qS0NiLVHc\",authDomain:\"portal-7d1e9.firebaseapp.com\",projectId:\"portal-7d1e9\",storageBucket:\"portal-7d1e9.firebasestorage.app\",messagingSenderId:\"476178266373\",appId:\"1:476178266373:web:dc6776df518b53aeea1f6c\",measurementId:\"G-1ZCEL3KRK6\"};const app=initializeApp(firebaseConfig);const auth=getAuth(app);const provider=new GoogleAuthProvider();// Request Google Calendar read-only scope\nprovider.addScope(\"https://www.googleapis.com/auth/calendar.readonly\");const signInWithGoogle=async()=>{try{const result=await signInWithPopup(auth,provider);const user=result.user;// Get the Firebase ID token (for your backend, if needed)\nconst idToken=await user.getIdToken();// Get the Google OAuth access token (for calling Google Calendar API)\nconst credential=GoogleAuthProvider.credentialFromResult(result);const accessToken=credential.accessToken;// Store both tokens\nlocalStorage.setItem('token',idToken);localStorage.setItem('googleAccessToken',accessToken);localStorage.setItem('user',JSON.stringify(user));return user;}catch(error){console.error(\"Google sign-in error:\",error);return null;}};export{auth,signInWithGoogle,provider};","map":{"version":3,"names":["initializeApp","getAuth","GoogleAuthProvider","signInWithPopup","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","provider","addScope","signInWithGoogle","result","user","idToken","getIdToken","credential","credentialFromResult","accessToken","localStorage","setItem","JSON","stringify","error","console"],"sources":["C:/Users/Phi Nguyen/Portal/technician-portal/frontend/src/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCvSK-IUHXso5s6qgnQXZTr17qS0NiLVHc\",\r\n  authDomain: \"portal-7d1e9.firebaseapp.com\",\r\n  projectId: \"portal-7d1e9\",\r\n  storageBucket: \"portal-7d1e9.firebasestorage.app\",\r\n  messagingSenderId: \"476178266373\",\r\n  appId: \"1:476178266373:web:dc6776df518b53aeea1f6c\",\r\n  measurementId: \"G-1ZCEL3KRK6\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst provider = new GoogleAuthProvider();\r\n\r\n// Request Google Calendar read-only scope\r\nprovider.addScope(\"https://www.googleapis.com/auth/calendar.readonly\");\r\n\r\nconst signInWithGoogle = async () => {\r\n  try {\r\n    const result = await signInWithPopup(auth, provider);\r\n    const user = result.user;\r\n\r\n    // Get the Firebase ID token (for your backend, if needed)\r\n    const idToken = await user.getIdToken();\r\n\r\n    // Get the Google OAuth access token (for calling Google Calendar API)\r\n    const credential = GoogleAuthProvider.credentialFromResult(result);\r\n    const accessToken = credential.accessToken;\r\n\r\n    // Store both tokens\r\n    localStorage.setItem('token', idToken);\r\n    localStorage.setItem('googleAccessToken', accessToken);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n\r\n    return user;\r\n  } catch (error) {\r\n    console.error(\"Google sign-in error:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport { auth, signInWithGoogle, provider };\r\n"],"mappings":"AAAA,OAASA,aAAa,KAAQ,cAAc,CAC5C,OAASC,OAAO,CAAEC,kBAAkB,CAAEC,eAAe,KAAQ,eAAe,CAE5E,KAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,8BAA8B,CAC1CC,SAAS,CAAE,cAAc,CACzBC,aAAa,CAAE,kCAAkC,CACjDC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CAA2C,CAClDC,aAAa,CAAE,cACjB,CAAC,CAED,KAAM,CAAAC,GAAG,CAAGZ,aAAa,CAACI,cAAc,CAAC,CACzC,KAAM,CAAAS,IAAI,CAAGZ,OAAO,CAACW,GAAG,CAAC,CACzB,KAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAZ,kBAAkB,CAAC,CAAC,CAEzC;AACAY,QAAQ,CAACC,QAAQ,CAAC,mDAAmD,CAAC,CAEtE,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAd,eAAe,CAACU,IAAI,CAAEC,QAAQ,CAAC,CACpD,KAAM,CAAAI,IAAI,CAAGD,MAAM,CAACC,IAAI,CAExB;AACA,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAD,IAAI,CAACE,UAAU,CAAC,CAAC,CAEvC;AACA,KAAM,CAAAC,UAAU,CAAGnB,kBAAkB,CAACoB,oBAAoB,CAACL,MAAM,CAAC,CAClE,KAAM,CAAAM,WAAW,CAAGF,UAAU,CAACE,WAAW,CAE1C;AACAC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEN,OAAO,CAAC,CACtCK,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAEF,WAAW,CAAC,CACtDC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,CAAC,CAElD,MAAO,CAAAA,IAAI,CACb,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,MAAO,KAAI,CACb,CACF,CAAC,CAED,OAASf,IAAI,CAAEG,gBAAgB,CAAEF,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}